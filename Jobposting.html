<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Job Posting</title>
  <link rel="stylesheet" href="style.css">
  <style>
   .dashboard-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
    gap: 20px;
    margin-top: 30px;
    padding: 20px;
}

.card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    padding: 20px;
    text-align: left; 
    font-size: 16px; 
    color: #2c3e50;
    cursor: pointer;
    transition: transform 0.2s ease, background 0.2s ease;
    display: flex; 
    flex-direction: column; 
    justify-content: space-between; 
}

.card h4 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 20px;
    font-weight: bold;
}

.card p {
    margin-bottom: 5px;
}

.card .action-buttons {
    margin-top: 15px;
    text-align: right; 
}

.card .action-buttons button {
    margin-left: 5px;
}

.card:hover {
    background: #f0f8ff;
    transform: translateY(-5px);
}

    .back-button {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      position: absolute;
      right: 30px;
      top: 30px;
      z-index: 20;
      text-decoration: none;
    }

    .back-button:hover {
      background: #c0392b;
    }

   
    .modal {
      display: none; 
      position: fixed; 
      z-index: 1; 
      left: 0;
      top: 0;
      width: 100%; 
      height: 100%; 
      overflow: auto; 
      background-color: rgba(0,0,0,0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 15% auto; 
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      border-radius: 8px;
      position: relative;
    }

    .close-button {
      color: #aaa;
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close-button:hover,
    .close-button:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    .modal-form label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #333;
    }

    .modal-form input[type="text"],
    .modal-form input[type="date"],
    .modal-form select,
    .modal-form textarea {
      width: calc(100% - 12px);
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: 14px;
    }

    .modal-form button {
      background-color: #007bff;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }

    .modal-form button:hover {
      background-color: #0056b3;
    }

    .delete-modal-content {
      background-color: #fefefe;
      margin: 20% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 30%;
      border-radius: 8px;
      position: relative;
      text-align: center;
    }

    .delete-modal-content button {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px;
    }

    .delete-modal-content .confirm-delete {
      background-color: #dc3545;
      color: white;
    }

    .delete-modal-content .cancel-delete {
      background-color: #6c757d;
      color: white;
    }

    .add-employee-button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    .add-employee-button:hover {
      background-color: #218838;
    }

    .employee-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    .employee-table th, .employee-table td {
      border: 1px solid #ddd;
      padding: 8px;
      font-size: 18px;
      text-align: left;
    }

    .employee-table th {
      background-color: #f2f2f2;
      color: #333;
    }

    .action-buttons button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      margin-right: 5px;
      transition: background-color 0.3s ease;
    }

    .action-buttons button:hover {
      background-color: #0056b3;
    }

  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-top">
      <img src="admin-avatar.png" alt="admin" class="admin-image">
      <p style="font-size: 18px; font-weight: bold;">HUMAN RESOURCES 1</p>
    </div>
    <div class="sidebar-content">
      <ul class="sidebar-menu">
        <li><a href="dashboard.html">Dashboard</a></li>

        <li><a href="#" onclick="toggleSubMenu('Recruitment')">Recruitment</a></li>
        <ul id="Recruitment" style="display:none;">
          <li><a href="Jobposting.html">Job Posting</a></li>
          <li><a href="Sourcing.html">Sourcing Candidates</a></li>
          <li><a href="Create.html">Create Job Posting</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('ApplicantManagement')">Applicant Management</a></li>
        <ul id="ApplicantManagement" style="display:none;">
          <li><a href="Application.html">Application Tracking</a></li>
          <li><a href="interviews.html">Interviews & Assessments</a></li>
          <li><a href="selection.html">Selection Offer</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('NewHiredOnBoard')">New Hired On Board</a></li>
        <ul id="NewHiredOnBoard" style="display:none;">
          <li><a href="Documentation.html">Documentation</a></li>
          <li><a href="Orientation.html">Orientation & Training</a></li>
          <li><a href="Assignment.html">Role Assignment</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('SocialRecognitionProgram')">Social Recognition Program</a></li>
        <ul id="SocialRecognitionProgram" style="display:none;">
          <li><a href="Acknowledgement.html">Acknowledging Achievements</a></li>
          <li><a href="Peer.html">Peer-to-peer recognition</a></li>
          <li><a href="Employee.html">Employee engagement programs</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('Performancemanagement')">Performance management</a></li>
        <ul id="Performancemanagement" style="display:none;">
          <li><a href="Goal.html">Goal setting</a></li>
          <li><a href="Feedback.html">Feedback cycles</a></li>
          <li><a href="Review.html">Performance reviews</a></li>
        </ul>

        <li><a href="users.html">Users</a></li>
        <li><a href="settings.html">Settings</a></li>
      </ul>
    </div>

    <a href="login1.html" class="logout-link" onclick="return confirmLogout();">Log out</a>
  </div>

<div class="main-content">
    <a href="admin.html" class="back-button">Back</a>
    <div class="content-box">
        <h1>Job Posting Management</h1>
        <p>Create, manage, and publish job openings.</p>

        <div style="margin-bottom: 20px;">
            <button class="add-employee-button" onclick="openAddJobModal()">Add New Job</button>
        </div>

        <h3>Existing Job Postings</h3>
        <div class="dashboard-cards" id="jobPostingBoard">
            <div class="card" data-job-id="SWE-001">
                <h4>Software Engineer</h4>
                <p>Department: Technology</p>
                <p>Posting Date: 2025-05-05</p>
                <p>Status: Active</p>
                <div class="action-buttons">
                    <button onclick="openViewJobModal('SWE-001')">View</button>
                    <button onclick="openEditJobModal('SWE-001')">Edit</button>
                    <button onclick="openDeleteJobModal('SWE-001', 'Software Engineer')">Delete</button>
                </div>
            </div>
            <div class="card" data-job-id="MM-002">
                <h4>Marketing Manager</h4>
                <p>Department: Marketing</p>
                <p>Posting Date: 2025-05-01</p>
                <p>Status: Closed</p>
                <div class="action-buttons">
                    <button onclick="openViewJobModal('MM-002')">View</button>
                    <button onclick="openEditJobModal('MM-002')">Edit</button>
                    <button onclick="openDeleteJobModal('MM-002', 'Marketing Manager')">Delete</button>
                </div>
            </div>
            <div class="card" data-job-id="HRS-003">
                <h4>HR Specialist</h4>
                <p>Department: Human Resources</p>
                <p>Posting Date: 2025-04-28</p>
                <p>Status: Active</p>
                <div class="action-buttons">
                    <button onclick="openViewJobModal('HRS-003')">View</button>
                    <button onclick="openEditJobModal('HRS-003')">Edit</button>
                    <button onclick="openDeleteJobModal('HRS-003', 'HR Specialist')">Delete</button>
                </div>
            </div>
        </div>

        <div class="modal" id="addJobModal">
            <div class="modal-content">
                <span class="close-button" onclick="closeAddJobModal()">&times;</span>
                <h2>Create New Job Posting</h2>
                <form class="modal-form" id="addJobForm">
                    <label for="jobTitle">Job Title:</label>
                    <input type="text" id="jobTitle" required>
                    <label for="department">Department:</label>
                    <input type="text" id="department">
                    <label for="description">Job Description:</label>
                    <textarea id="description" rows="5"></textarea>
                    <label for="postingDate">Posting Date:</label>
                    <input type="date" id="postingDate">
                    <label for="status">Status:</label>
                    <select id="status">
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                        <option value="Closed">Closed</option>
                    </select>
                    <button type="submit">Create Job</button>
                </form>
            </div>
        </div>

        <div class="modal" id="viewJobModal">
            <div class="modal-content">
                <span class="close-button" onclick="closeViewJobModal()">&times;</span>
                <h2>Job Posting Details</h2>
                <div id="viewJobDetails">
                </div>
            </div>
        </div>

        <div class="modal" id="editJobModal">
            <div class="modal-content">
                <span class="close-button" onclick="closeEditJobModal()">&times;</span>
                <h2>Edit Job Posting</h2>
                <form class="modal-form" id="editJobForm">
                    <label for="editJobTitle">Job Title:</label>
                    <input type="text" id="editJobTitle" required>
                    <label for="editDepartment">Department:</label>
                    <input type="text" id="editDepartment">
                    <label for="editDescription">Job Description:</label>
                    <textarea id="editDescription" rows="5"></textarea>
                    <label for="editPostingDate">Posting Date:</label>
                    <input type="date" id="editPostingDate">
                    <label for="editStatus">Status:</label>
                    <select id="editStatus">
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                        <option value="Closed">Closed</option>
                    </select>
                    <input type="hidden" id="editJobId">
                    <button type="submit">Save Changes</button>
                </form>
            </div>
        </div>

        <div class="modal" id="deleteJobModal">
            <div class="delete-modal-content">
                <span class="close-button" onclick="closeDeleteJobModal()">&times;</span>
                <h2>Delete Job Posting</h2>
                <p>Are you sure you want to delete the job posting for <span id="deleteJobTitle"></span>?</p>
                <button class="cancel-delete" onclick="closeDeleteJobModal()">Cancel</button>
                <button class="confirm-delete" onclick="deleteJob()">Delete</button>
                <span id="deleteJobIdHidden" style="display:none;"></span>
            </div>
        </div>

    </div>
</div>

<script>
    function confirmLogout() {
        return confirm("Are you sure you want to log out?");
    }
    function toggleSubMenu(id) {
        const submenu = document.getElementById(id);
        if (submenu.style.display === 'none') {
            submenu.style.display = 'block';
        } else {
            submenu.style.display = 'none';
        }
    }

    
    function openAddJobModal() {
        document.getElementById('addJobModal').style.display = 'block';
    }

    function closeAddJobModal() {
        document.getElementById('addJobModal').style.display = 'none';
    }

    document.getElementById('addJobForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const jobTitle = document.getElementById('jobTitle').value;
        const department = document.getElementById('department').value;
        const description = document.getElementById('description').value;
        const postingDate = document.getElementById('postingDate').value;
        const status = document.getElementById('status').value;
        console.log('Creating new job posting:', { jobTitle, department, description, postingDate, status });
        closeAddJobModal();
       
        const jobPostingBoard = document.getElementById('jobPostingBoard');
        const newCard = document.createElement('div');
        newCard.classList.add('card');
        newCard.innerHTML = `
            <h4>${jobTitle}</h4>
            <p>Department: ${department}</p>
            <p>Posting Date: ${postingDate}</p>
            <p>Status: ${status}</p>
            <div class="action-buttons">
                <button onclick="openViewJobModal('TEMP_ID')">View</button>
                <button onclick="openEditJobModal('TEMP_ID')">Edit</button>
                <button onclick="openDeleteJobModal('${jobTitle}')">Delete</button>
            </div>
        `;
        jobPostingBoard.appendChild(newCard);
    });

  
    function openViewJobModal(jobId) {
      
        const detailsContainer = document.getElementById('viewJobDetails');
        detailsContainer.innerHTML = `<p>Job ID: ${jobId}</p><p>Details will be loaded here...</p>`;
        document.getElementById('viewJobModal').style.display = 'block';
    }

    function closeViewJobModal() {
        document.getElementById('viewJobModal').style.display = 'none';
    }

    
    function openEditJobModal(jobId) {
        
        document.getElementById('editJobId').value = jobId;
        document.getElementById('editJobTitle').value = 'Software Engineer'; // Example data
        document.getElementById('editDepartment').value = 'Technology';
        document.getElementById('editDescription').value = 'Looking for a skilled software engineer...';
        document.getElementById('editPostingDate').value = '2025-05-05';
        document.getElementById('editStatus').value = 'Active';
        document.getElementById('editJobModal').style.display = 'block';
    }

    function closeEditJobModal() {
        document.getElementById('editJobModal').style.display = 'none';
    }

    document.getElementById('editJobForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const jobId = document.getElementById('editJobId').value;
        const jobTitle = document.getElementById('editJobTitle').value;
        const department = document.getElementById('editDepartment').value;
        const description = document.getElementById('editDescription').value;
        const postingDate = document.getElementById('editPostingDate').value;
        const status = document.getElementById('editStatus').value;
        console.log('Saving changes for job ID:', jobId, { jobTitle, department, description, postingDate, status });
        closeEditJobModal();
      
        const cardToUpdate = document.querySelector(`.card[data-job-id="${jobId}"]`);
        if (cardToUpdate) {
            cardToUpdate.innerHTML = `
                <h4>${jobTitle}</h4>
                <p>Department: ${department}</p>
                <p>Posting Date: ${postingDate}</p>
                <p>Status: ${status}</p>
                <div class="action-buttons">
                    <button onclick="openViewJobModal('${jobId}')">View</button>
                    <button onclick="openEditJobModal('${jobId}')">Edit</button>
                    <button onclick="openDeleteJobModal('${jobId}', '${jobTitle}')">Delete</button>
                </div>
            `;
        }
    });

   
    function openDeleteJobModal(jobId, jobTitle) {
        document.getElementById('deleteJobIdHidden').innerText = jobId;
        document.getElementById('deleteJobTitle').innerText = jobTitle;
        document.getElementById('deleteJobModal').style.display = 'block';
    }

    function closeDeleteJobModal() {
        document.getElementById('deleteJobModal').style.display = 'none';
    }

    function deleteJob() {
        const jobIdToDelete = document.getElementById('deleteJobIdHidden').innerText;
        const jobTitleToDelete = document.getElementById('deleteJobTitle').innerText;
        console.log(`Deleting job posting with ID: ${jobIdToDelete} (${jobTitleToDelete})`);
        closeDeleteJobModal();
      
        const cardToDelete = document.querySelector(`.card[data-job-id="${jobIdToDelete}"]`);
        if (cardToDelete) {
            cardToDelete.remove();
        }
    }

    
    document.addEventListener('DOMContentLoaded', function() {
        const jobPostingBoard = document.getElementById('jobPostingBoard');
        const initialJobPostings = [
            { id: 'SWE-001', title: 'Software Engineer', department: 'Technology', date: '2025-05-05', status: 'Active' },
            { id: 'MM-002', title: 'Marketing Manager', department: 'Marketing', date: '2025-05-01', status: 'Closed' },
            { id: 'HRS-003', title: 'HR Specialist', department: 'Human Resources', date: '2025-04-28', status: 'Active' }
        ];

        initialJobPostings.forEach(job => {
            const newCard = document.createElement('div');
            newCard.classList.add('card');
            newCard.setAttribute('data-job-id', job.id);
            newCard.innerHTML = `
                <h4>${job.title}</h4>
                <p>Department: ${job.department}</p>
                <p>Posting Date: ${job.date}</p>
                <p>Status: ${job.status}</p>
                <div class="action-buttons">
                    <button onclick="openViewJobModal('${job.id}')">View</button>
                    <button onclick="openEditJobModal('${job.id}')">Edit</button>
                    <button onclick="openDeleteJobModal('${job.id}', '${job.title}')">Delete</button>
                </div>
            `;
            jobPostingBoard.appendChild(newCard);
        });
    });
</script>
</body>
</html>
