<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peer-to-Peer Recognition</title>
  <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex; 
        }
        .container {
            max-width: 1200px; 
            margin: 0 auto; 
        }
       
        .kudos-button {
            background-color: #fcd34d; /* bg-yellow-400 */
            color: #1e293b; /* text-gray-900 */
            padding: 12px 24px; /* py-3 px-6 */
            border-radius: 6px; /* rounded-md */
            font-weight: 600; /* font-semibold */
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 24px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: none;
            font-size: 16px;
        }

        .kudos-button:hover {
            background-color: #fbb034; /* hover:bg-yellow-500 */
        }

        #give-kudos-modal {
            position: fixed;
            z-index: 10;
            inset: 0;
            overflow-y: auto;
            display: none;
        }

        #give-kudos-modal.show {
            display: flex;
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 0.75;
        }

        .modal-content {
            background-color: #ffffff;
            border-radius: 8px;
            text-align: left;
            overflow: hidden;
            transform: translateY(0);
            transition: transform 0.3s ease-out;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 500px;
            margin: auto;
        }

        #give-kudos-modal.show .modal-content {
            transform: translateY(0);
        }


        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin: 0;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-body form {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 0;
        }

        .modal-body form div {
            display: flex;
            flex-direction: column;
        }

        .modal-body form label {
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
            display: block;
        }

        .modal-body form select,
        .modal-body form textarea {
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #d1d5db;
            font-size: 1rem;
            color: #4b5563;
            width: 100%;
            box-sizing: border-box;
            transition: border-color 0.2s ease;
        }

        .modal-body form select:focus,
        .modal-body form textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }


        .modal-body form textarea {
            resize: vertical;
            height: 120px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            padding: 20px;
            border-top: 1px solid #e5e7eb;
            gap: 12px;
        }

        .modal-footer button {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            border: none;
        }

        .modal-footer button.submit-button {
            background-color: #3b82f6;
            color: #ffffff;
        }

        .modal-footer button.submit-button:hover {
            background-color: #2563eb;
        }

        .modal-footer button.cancel-button {
            background-color: #ffffff;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .modal-footer button.cancel-button:hover {
            background-color: #f7f7f7;
        }

        #char-count {
            font-size: 0.75rem;
            color: #6b7280;
            text-align: right;
            margin-top: 4px;
        }

        .w-1\/4 {
            width: 25%;
        }

        .w-3\/4 {
            width: 75%;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .lg\:flex-row {
            flex-direction: row;
        }

        .gap-6 {
            gap: 24px;
        }

        .rounded-lg {
            border-radius: 8px;
        }

        .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }

        .p-4 {
            padding: 16px;
        }

        .md\:p-6 {
            padding: 24px;
        }

        .mb-6 {
            margin-bottom: 24px;
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem;
        }

        .font-semibold {
            font-weight: 600;
        }

        .text-gray-700 {
            color: #374151;
        }

        .mb-4 {
            margin-bottom: 16px;
        }

        .block {
            display: block;
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .font-bold {
            font-weight: 700;
        }

        .appearance-none {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .border {
            border-width: 1px;
        }

        .rounded {
            border-radius: 6px;
        }

        .w-full {
            width: 100%;
        }

        .py-3 {
            padding-top: 8px;
            padding-bottom: 8px;
        }

        .px-4 {
            padding-left: 16px;
            padding-right: 16px;
        }

        .text-gray-700 {
            color: #374151;
        }

        .leading-tight {
            line-height: 1.5rem;
        }

        .focus\:outline-none:focus {
            outline: none;
        }

        .focus\:shadow-outline:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .bg-blue-500 {
            background-color: #3b82f6;
        }

        .hover\:bg-blue-700:hover {
            background-color: #2563eb;
        }

        .text-white {
            color: #ffffff;
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .focus\:outline-none:focus {
            outline: none;
        }

        .focus\:shadow-outline:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .space-y-2 > * + * {
            margin-top: 8px;
        }

        .text-blue-600 {
            color: #2563eb;
        }

        .text-center {
            text-align: center;
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem;
        }

        .md\:text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem;
        }

        .lg\:text-4xl {
            font-size: 2.25rem;
            line-height: 2.5rem;
        }

        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .items-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .text-gray-800 {
            color: #1f2937;
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .text-gray-600 {
            color: #4b5563;
        }

        .rounded-md {
            border-radius: 0.375rem;
        }

        .bg-gray-50 {
            background-color: #f9fafb;
        }

        .pt-2 {
            padding-top: 0.5rem;
        }

        .border-t {
            border-top-width: 1px;
        }

        .border-gray-200 {
            border-color: #e5e7eb;
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem;
        }

        .text-gray-500 {
            color: #6b7280;
        }

        .mr-2 {
            margin-right: 0.5rem;
        }

        .reaction-button {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 6px;
            transition: background-color 0.2s;
            border: none;
            background-color: transparent;
            cursor: pointer;
        }

        .reaction-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .text-red-500 {
            color: #dc2626;
        }

        .text-blue-500 {
            color: #3b82f6;
        }

        .text-yellow-500 {
            color: #d97706;
        }

        .self-start {
            align-self: flex-start;
        }

        .comment {
            display: flex;
            gap: 8px;
            padding: 8px;
            border-radius: 8px;
            background-color: #f0f0f0;
            margin-bottom: 4px;
        }

        .comment-section {
            margin-top: 1rem;
            display: none;
        }

        .comment-section.show {
            display: block;
        }

        .rounded-full {
            border-radius: 50%;
        }

        .h-8 {
            height: 2rem;
        }

        .w-8 {
            width: 2rem;
        }

        .bg-blue-500 {
            background-color: #3b82f6;
        }

        .text-white {
            color: #fff;
        }

        .flex {
            display: flex;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .h-6 {
            height: 1.5rem;
        }

        .w-6 {
            width: 1.5rem;
        }

        .bg-purple-500 {
            background-color: #8b5cf6;
        }

        .flex-1 {
            flex: 1 1 0%;
        }
        .main-content {
            margin-left: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            min-height: calc(100vh - 40px);
            box-sizing: border-box;
            position: relative;
        }
    </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-top">
      <img src="admin-avatar.png" alt="admin" class="admin-image">
      <p style="font-size: 18px; font-weight: bold;">HUMAN RESOURCES 1</p>
    </div>
    <div class="sidebar-content">
      <ul class="sidebar-menu">
        <li><a href="dashboard.html">Dashboard</a></li>

        <li><a href="#" onclick="toggleSubMenu('Recruitment')">Recruitment</a></li>
        <ul id="Recruitment" style="display:none;">
          <li><a href="Jobposting.html">Job Posting</a></li>
          <li><a href="Sourcing.html">Sourcing Candidates</a></li>
          <li><a href="Create.html">Create Job Posting</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('ApplicantManagement')">Applicant Management</a></li>
        <ul id="ApplicantManagement" style="display:none;">
          <li><a href="Application.html">Application Tracking</a></li>
          <li><a href="interviews.html">Interviews & Assessments</a></li>
          <li><a href="selection.html">Selection Offer</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('NewHiredOnBoard')">New Hired On Board</a></li>
        <ul id="NewHiredOnBoard" style="display:none;">
          <li><a href="Documentation.html">Documentation</a></li>
          <li><a href="Orientation.html">Orientation & Training</a></li>
          <li><a href="Assignment.html">Role Assignment</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('SocialRecognitionProgram')">Social Recognition Program</a></li>
        <ul id="SocialRecognitionProgram" style="display:none;">
          <li><a href="Acknowledgement.html">Acknowledging Achievements</a></li>
          <li><a href="Peer.html">Peer-to-peer recognition</a></li>
          <li><a href="Employee.html">Employee engagement programs</a></li>
        </ul>

        <li><a href="#" onclick="toggleSubMenu('Performancemanagement')">Performance management</a></li>
        <ul id="Performancemanagement" style="display:none;">
          <li><a href="Goal.html">Goal setting</a></li>
          <li><a href="Feedback.html">Feedback cycles</a></li>
          <li><a href="Review.html">Performance reviews</a></li>
        </ul>

        <li><a href="users.html">Users</a></li>
        <li><a href="settings.html">Settings</a></li>
      </ul>
    </div>

    <a href="login1.html" class="logout-link" onclick="return confirmLogout();">Log out</a>
  </div>
  
   <div class="main-content">
        <a href="admin.html" class="back-button">Back</a>
        <div class="container">
        <h1 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-blue-600 text-center mb-6">Peer-to-Peer Recognition</h1>

        <div class="flex flex-col lg:flex-row gap-6">
            <div class="w-full lg:w-1/4">
                <div class="bg-white rounded-lg shadow-md p-4 md:p-6 mb-6">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Filter By</h2>
                    <div class="mb-4">
                        <label for="team" class="block text-gray-700 text-sm font-bold mb-2">Team</label>
                        <select id="team" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                            <option>All Teams</option>
                            <option>Engineering</option>
                            <option>Marketing</option>
                            <option>Sales</option>
                            <option>HR</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="department" class="block text-gray-700 text-sm font-bold mb-2">Department</label>
                        <select id="department" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                            <option>All Departments</option>
                            <option>Product Development</option>
                            <option>Communications</option>
                            <option>Business Development</option>
                            <option>People Operations</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="date" class="block text-gray-700 text-sm font-bold mb-2">Date</label>
                        <input type="date" id="date" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                    </div>
                    <div class="mb-4">
                        <label for="badge" class="block text-gray-700 text-sm font-bold mb-2">Badge</label>
                        <select id="badge" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                            <option>All Badges</option>
                            <option>Great Mentor</option>
                            <option>Team Hero</option>
                            <option>Excellent Communicator</option>
                            <option>Problem Solver</option>
                        </select>
                    </div>
                    <button id="filter-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                        Apply Filters
                    </button>
                </div>
                <div class="bg-white rounded-lg shadow-md p-4 md:p-6">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Top Recognized Employees</h2>
                    <ul id="leaderboard" class="space-y-2">
                    </ul>
                </div>
            </div>

            <div class="w-full lg:w-3/4">
                <button id="give-kudos-button" class="kudos-button text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline mb-6">
                    Give Kudos
                </button>

                <div id="recognition-feed" class="space-y-4">
                </div>
            </div>
        </div>
    </div>

    <div id="give-kudos-modal" class="fixed z-10 inset-0 overflow-y-auto hidden">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>

            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h2 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
                                Give Kudos
                            </h2>
                            <form id="kudos-form" class="mt-4 space-y-4">
                                <div>
                                    <label for="recipient" class="block text-gray-700 text-sm font-bold mb-2">To:</label>
                                    <select id="recipient" required class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Select Recipient</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="badge-emoji" class="block text-gray-700 text-sm font-bold mb-2">Badge/Emoji:</label>
                                    <select id="badge-emoji" required class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Select Badge/Emoji</option>
                                        <option value="üèÖ">üèÖ Achievement</option>
                                        <option value="ü§ù">ü§ù Teamwork</option>
                                        <option value="‚≠ê">‚≠ê Excellence</option>
                                        <option value="üí°">üí° Innovation</option>
                                        <option value="üíñ">üíñ Appreciation</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="message" class="block text-gray-700 text-sm font-bold mb-2">Message:</label>
                                    <textarea id="message" rows="5" maxlength="500" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                                    <p id="char-count" class="text-gray-500 text-xs text-right">0/500</p>
                                </div>
                                 <div>
                                    <label for="visibility" class="block text-gray-700 text-sm font-bold mb-2">Visibility:</label>
                                    <select id="visibility" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="public">Public (Show on Wall)</option>
                                        <option value="private">Private (Email Only)</option>
                                                                                    </select>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="submit" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm" onclick="document.getElementById('kudos-form').dispatchEvent(new Event('submit'))">
                        Give Kudos
                    </button>
                    <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm close-button">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
      function confirmLogout() {
        return confirm("Are you sure you want to log out?");
    }
    function toggleSubMenu(id) {
        const submenu = document.getElementById(id);
        if (submenu.style.display === 'none') {
            submenu.style.display = 'block';
        } else {
            submenu.style.display = 'none';
        }
    }
      
    const recognitionFeed = document.getElementById('recognition-feed');
    const giveKudosButton = document.getElementById('give-kudos-button');
    const giveKudosModal = document.getElementById('give-kudos-modal');
    const kudosForm = document.getElementById('kudos-form');
    const recipientDropdown = document.getElementById('recipient');
    const closeButtons = document.querySelectorAll('.close-button');
    const messageInput = document.getElementById('message');
    const charCountDisplay = document.getElementById('char-count');
    const filterButton = document.getElementById('filter-button');
    const teamFilter = document.getElementById('team');
    const departmentFilter = document.getElementById('department');
    const dateFilter = document.getElementById('date');
    const badgeFilter = document.getElementById('badge');
    const leaderboardList = document.getElementById('leaderboard');


    let employees = [
        { id: '1', name: 'Alice Smith', team: 'Engineering', department: 'Product Development', kudosCount: 5 },
        { id: '2', name: 'Bob Johnson', team: 'Marketing', department: 'Communications', kudosCount: 12 },
        { id: '3', name: 'Charlie Brown', team: 'Sales', department: 'Business Development', kudosCount: 8 },
        { id: '4', name: 'Diana Miller', team: 'HR', department: 'People Operations', kudosCount: 3 },
        { id: '5', name: 'Ethan Davis', team: 'Engineering', department: 'Product Development', kudosCount: 7 },
        { id: '6', name: 'Fiona Green', team: 'Marketing', department: 'Communications', kudosCount: 9 },
        { id: '7', name: 'George White', team: 'Sales', department: 'Business Development', kudosCount: 6 },
        { id: '8', name: 'Hannah Black', team: 'HR', department: 'People Operations', kudosCount: 2 },
        { id: '9', name: 'Isaac Taylor', team: 'Engineering', department: 'Product Development', kudosCount: 11 },
        { id: '10', name: 'Jessica Clark', team: 'Marketing', department: 'Communications', kudosCount: 4 },
        { id: '11', name: 'Kevin Lee', team: 'Engineering', department: 'Product Development', kudosCount: 10 },
        { id: '12', name: 'Laura Hall', team: 'Marketing', department: 'Communications', kudosCount: 15 },
        { id: '13', name: 'Mike Davis', team: 'Sales', department: 'Business Development', kudosCount: 7 },
        { id: '14', name: 'Nancy Wilson', team: 'HR', department: 'People Operations', kudosCount: 1 },
        { id: '15', name: 'Oliver Brown', team: 'Engineering', department: 'Product Development', kudosCount: 9 },
        { id: '16', name: 'Patricia Garcia', team: 'Marketing', department: 'Communications', kudosCount: 6 },
        { id: '17', name: 'Quincy Adams', team: 'Sales', department: 'Business Development', kudosCount: 14 },
        { id: '18', name: 'Rachel Young', team: 'HR', department: 'People Operations', kudosCount: 4 },
        { id: '19', name: 'Samuel Jackson', team: 'Engineering', department: 'Product Development', kudosCount: 13 },
        { id: '20', name: 'Tina Turner', team: 'Marketing', department: 'Communications', kudosCount: 2 },
    ];

    let recognitionPosts = [
        {
            id: 'p1',
            sender: { id: '1', name: 'Alice Smith' },
            receiver: { id: '2', name: 'Bob Johnson' },
            message: 'Thanks for the help with the Q2 report!',
            badge: '',
            timestamp: '2025-07-28T10:00:00Z',
            reactions: { like: 3, heart: 1, clap: 5 },
            comments: [
                { id: 'c1', sender: {id: '2', name: 'Bob Johnson'}, text: 'You\'re welcome!', timestamp: '2025-07-28T10:05:00Z' },
                { id: 'c2', sender: {id: '1', name: 'Alice Smith'}, text: 'Great teamwork!', timestamp: '2025-07-28T10:10:00Z' },
            ],
        },
        {
            id: 'p2',
            sender: { id: '3', name: 'Charlie Brown' },
            receiver: { id: '5', name: 'Ethan Davis' },
            message: 'Appreciate your dedication to the project.',
            badge: '‚≠ê',
            timestamp: '2025-07-27T15:30:00Z',
            reactions: { like: 8, heart: 2, clap: 1 },
            comments: [],
        },
        {
            id: 'p3',
            sender: { id: '6', name: 'Fiona Green' },
            receiver: { id: '1', name: 'Alice Smith' },
            message: 'Your presentation was excellent!',
            badge: 'üèÖ',
            timestamp: '2025-07-26T09:15:00Z',
            reactions: { like: 10, heart: 5, clap: 2 },
            comments: [],
        },
        {
            id: 'p4',
            sender: { id: '7', name: 'George White' },
            receiver: { id: '4', name: 'Diana Miller' },
            message: 'Thanks for handling the client meeting.',
            badge: 'ü§ù',
            timestamp: '2025-07-25T11:00:00Z',
            reactions: { like: 2, heart: 1, clap: 7 },
            comments: [],
        },
        {
            id: 'p5',
            sender: { id: '5', name: 'Ethan Davis' },
            receiver: { id: '2', name: 'Bob Johnson' },
            message: 'You are a great mentor.',
            badge: '‚≠ê',
            timestamp: '2025-07-24T14:45:00Z',
            reactions: { like: 6, heart: 3, clap: 4 },
            comments: [],
        },
        {
            id: 'p6',
            sender: { id: '8', name: 'Hannah Black' },
            receiver: { id: '9', name: 'Isaac Taylor' },
            message: 'Your problem-solving skills are amazing!',
            badge: 'üí°',
            timestamp: '2025-07-23T08:20:00Z',
            reactions: { like: 9, heart: 0, clap: 6 },
            comments: [],
        },
        {
            id: 'p7',
             sender: { id: '10', name: 'Jessica Clark' },
              receiver: { id: '11', name: 'Kevin Lee' },
               message: 'Thanks for your help with the project!',
                badge: 'ü§ù',
                 timestamp: '2025-07-22T16:55:00Z',
                  reactions: { like: 4, heart: 2, clap: 3 },
                   comments: [],
        },
        {
            id: 'p8',
             sender: { id: '12', name: 'Laura Hall' },
              receiver: { id: '13', name: 'Mike Davis' },
               message: 'You are an excellent communicator.',
                badge: 'üèÖ',
                 timestamp: '2025-07-21T12:30:00Z',
                  reactions: { like: 7, heart: 4, clap: 1 },
                   comments: [],
        },
        {
            id: 'p9',
             sender: { id: '14', name: 'Nancy Wilson' },
              receiver: { id: '15', name: 'Oliver Brown' },
               message: 'Thank you for being a team hero!',
                badge: '‚≠ê',
                 timestamp: '2025-07-20T10:00:00Z',
                  reactions: { like: 1, heart: 1, clap: 9 },
                   comments: [],
        },
        {
            id: 'p10',
             sender: { id: '16', name: 'Patricia Garcia' },
              receiver: { id: '17', name: 'Quincy Adams' },
               message: 'Your dedication is much appreciated.',
                badge: 'üíñ',
                 timestamp: '2025-07-19T14:10:00Z',
                  reactions: { like: 5, heart: 3, clap: 2 },
                   comments: [],
        },
         {
            id: 'p11',
            sender: { id: '18', name: 'Rachel Young' },
            receiver: { id: '19', name: 'Samuel Jackson' },
            message: 'You are a valuable team member.',
            badge: 'ü§ù',
            timestamp: '2025-07-18T09:25:00Z',
            reactions: { like: 8, heart: 2, clap: 5 },
            comments: [],
        },
        {
            id: 'p12',
            sender: { id: '20', name: 'Tina Turner' },
            receiver: { id: '1', name: 'Alice Smith' },
            message: 'Thanks for your leadership on this project!',
            badge: 'üèÖ',
            timestamp: '2025-07-17T11:50:00Z',
            reactions: { like: 6, heart: 4, clap: 3 },
            comments: [],
        },
    ];


    function updateLeaderboard() {
        const sortedEmployees = [...employees].sort((a, b) => b.kudosCount - a.kudosCount);
        leaderboardList.innerHTML = '';
        sortedEmployees.slice(0, 5).forEach(employee => {
            const li = document.createElement('li');
            li.className = "flex items-center justify-between p-2 rounded-md bg-gray-50";
            li.innerHTML = `<span class="font-medium text-gray-800">${employee.name}</span><span class="text-sm text-gray-600">${employee.kudosCount} Kudos</span>`;
            leaderboardList.appendChild(li);
        });
    }

    function renderRecognitionFeed(filteredPosts = recognitionPosts) {
        recognitionFeed.innerHTML = '';
        filteredPosts.forEach(post => {
            const postCard = createPostCard(post);
            recognitionFeed.appendChild(postCard);
        });
        updateLeaderboard();
    }

    function createPostCard(post) {
      const card = document.createElement('div');
      card.className = 'bg-white rounded-lg shadow-md p-4 md:p-6';

      const header = document.createElement('div');
      header.className = 'flex items-center justify-between mb-4';

      const senderInfo = document.createElement('div');
      senderInfo.className = 'flex items-center gap-2';
      const senderAvatar = document.createElement('div');
      senderAvatar.className = 'rounded-full h-8 w-8 bg-blue-500 text-white flex items-center justify-center';
      senderAvatar.textContent = post.sender.name[0];
      const senderName = document.createElement('span');
      senderName.className = 'text-sm font-semibold text-gray-700';
      senderName.textContent = post.sender.name;
      senderInfo.appendChild(senderAvatar);
      senderInfo.appendChild(senderName);

      const receiverInfo = document.createElement('div');
      receiverInfo.className = 'flex items-center gap-2';
      const receiverAvatar = document.createElement('div');
      receiverAvatar.className = 'rounded-full h-8 w-8 bg-green-500 text-white flex items-center justify-center';
      receiverAvatar.textContent = post.receiver.name[0];
      const receiverName = document.createElement('span');
      receiverName.className = 'text-sm font-semibold text-gray-700';
      receiverName.textContent = `to ${post.receiver.name}`;
      receiverInfo.appendChild(receiverAvatar);
      receiverInfo.appendChild(receiverName);

      const timestamp = document.createElement('span');
      timestamp.className = 'text-xs text-gray-500';
      timestamp.textContent = new Date(post.timestamp).toLocaleDateString() + " " + new Date(post.timestamp).toLocaleTimeString();

      header.appendChild(senderInfo);
      header.appendChild(receiverInfo);
      header.appendChild(timestamp);

      const message = document.createElement('p');
      message.className = 'text-gray-800 mb-2';
      message.textContent = post.message;

      const badge = document.createElement('span');
      badge.className = 'text-lg mr-2';
      badge.textContent = post.badge;

      const reactions = document.createElement('div');
      reactions.className = 'flex items-center gap-4 mt-2 pt-2 border-t border-gray-200';

        const likeButton = document.createElement('button');
        likeButton.className = 'reaction-button text-gray-600 hover:text-blue-500 rounded-md p-1';
        likeButton.innerHTML = `<span class="material-icons">thumb_up</span> <span class="text-xs">${post.reactions.like}</span>`;
        likeButton.addEventListener('click', () => {
            post.reactions.like++;
            updatePostReactions(post.id);
            renderRecognitionFeed(); /
        });

        const heartButton = document.createElement('button');
        heartButton.className = 'reaction-button text-gray-600 hover:text-red-500 rounded-md p-1';
        heartButton.innerHTML = `<span class="material-icons">favorite</span> <span class="text-xs">${post.reactions.heart}</span>`;
        heartButton.addEventListener('click',() => {
            post.reactions.heart++;
             updatePostReactions(post.id);
            renderRecognitionFeed();
        });

        const clapButton = document.createElement('button');
        clapButton.className = 'reaction-button text-gray-600 hover:text-yellow-500 rounded-md p-1';
        clapButton.innerHTML = `<span class="material-icons">applause</span> <span class="text-xs">${post.reactions.clap}</span>`;
        clapButton.addEventListener('click', () => {
            post.reactions.clap++;
            updatePostReactions(post.id);
            renderRecognitionFeed();
        });

        const commentButton = document.createElement('button');
        commentButton.className = 'reaction-button text-gray-600 hover:text-gray-700 rounded-md p-1';
        commentButton.innerHTML = `<span class="material-icons">comment</span> <span class="text-xs">${post.comments.length}</span>`;
        commentButton.addEventListener('click', () => {
            const commentSection = card.querySelector('.comment-section');
            commentSection.classList.toggle('show');
        });


        reactions.appendChild(likeButton);
        reactions.appendChild(heartButton);
        reactions.appendChild(clapButton);
        reactions.appendChild(commentButton);

        const commentSection = document.createElement('div');
        commentSection.className = 'comment-section mt-4 space-y-2';

        post.comments.forEach(comment => {
            const commentDiv = document.createElement('div');
            commentDiv.className = 'comment';

            const commentSenderAvatar = document.createElement('div');
            commentSenderAvatar.className = 'rounded-full h-6 w-6 bg-purple-500 text-white flex items-center justify-center text-xs';
            commentSenderAvatar.textContent = comment.sender.name[0];

            const commentContent = document.createElement('div');
            commentContent.className = 'flex-1';
            const commentSenderName = document.createElement('span');
            commentSenderName.className = 'font-semibold text-gray-700 text-sm';
            commentSenderName.textContent = comment.sender.name;
            const commentText = document.createElement('span');
            commentText.className = 'text-gray-600 text-sm';
            commentText.textContent = ` ${comment.text}`;
            const commentTimestamp = document.createElement('div');
            commentTimestamp.className = 'text-xs text-gray-500';
            commentTimestamp.textContent = new Date(comment.timestamp).toLocaleTimeString();

            commentContent.appendChild(commentSenderName);
            commentContent.appendChild(commentText);
            commentContent.appendChild(commentTimestamp);

            commentDiv.appendChild(commentSenderAvatar);
            commentDiv.appendChild(commentContent);
            commentSection.appendChild(commentDiv);
        });

        const commentForm = document.createElement('form');
        commentForm.className = 'comment-input-area';
        const commentInput = document.createElement('textarea');
        commentInput.placeholder = 'Write a comment...';
        commentInput.className = 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm';
        commentInput.rows = 1;
        const commentSubmit = document.createElement('button');
        commentSubmit.textContent = 'Post';
        commentSubmit.className = 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline text-sm self-start';
        commentForm.appendChild(commentInput);
        commentForm.appendChild(commentSubmit);
        commentForm.addEventListener('submit', (event) => {
            event.preventDefault();
            if (commentInput.value.trim()) {
                const newComment = {
                    id: `c${post.comments.length + 1}`,
                    sender: {id: '1', name: 'Current User'},
                    text: commentInput.value,
                    timestamp: new Date().toISOString(),
                };
                post.comments.push(newComment);
                renderRecognitionFeed();
                commentInput.value = '';
            }
        });
        commentSection.appendChild(commentForm);


        card.appendChild(header);
        card.appendChild(badge);
        card.appendChild(message);
        card.appendChild(reactions);
        card.appendChild(commentSection);

        return card;
    }

    function updatePostReactions(postId) {
        const post = recognitionPosts.find(p => p.id === postId);
        if (post) {
          .
        }
    }

    function populateRecipientDropdown() {
        recipientDropdown.innerHTML = '<option value="">Select Recipient</option>';
        employees.forEach(employee => {
            const option = document.createElement('option');
            option.value = employee.id;
            option.textContent = employee.name;
            recipientDropdown.appendChild(option);
        });
    }

    function openKudosModal() {
        giveKudosModal.classList.remove('hidden');
        populateRecipientDropdown();
    }

    function closeKudosModal() {
        giveKudosModal.classList.add('hidden');
        kudosForm.reset();
        charCountDisplay.textContent = '0/500';
    }

    giveKudosButton.addEventListener('click', openKudosModal);
    closeButtons.forEach(button => {
        button.addEventListener('click', closeKudosModal);
    });

    window.addEventListener('click', (event) => {
        if (event.target === giveKudosModal) {
            closeKudosModal();
        }
    })


    messageInput.addEventListener('input', () => {
        const textLength = messageInput.value.length;
        charCountDisplay.textContent = `${textLength}/500`;
        if (textLength > 500) {
            messageInput.value = messageInput.value.substring(0, 500);
            charCountDisplay.textContent = '500/500';
        }
    });

    kudosForm.addEventListener('submit', (event) => {
        event.preventDefault();

        const recipientId = document.getElementById('recipient').value;
        const badge = document.getElementById('badge-emoji').value;
        const message = document.getElementById('message').value;
         const visibility = document.getElementById('visibility').value;


        const sender = employees[0];
        const recipient = employees.find(emp => emp.id === recipientId);

        if (recipient && message) {
            const newPost = {
                id: `p${recognitionPosts.length + 1}`,
                sender: { id: sender.id, name: sender.name },
                receiver: { id: recipient.id, name: recipient.name },
                message,
                badge,
                timestamp: new Date().toISOString(),
                reactions: { like: 0, heart: 0, clap: 0 },
                comments: [],
            };

            recognitionPosts.push(newPost);
            recipient.kudosCount++;
             updateLeaderboard();
            renderRecognitionFeed();

             if (visibility === 'private') {
                console.log(`Sending private recognition email to ${recipient.name}: ${message}`);
             }
            closeKudosModal();
        } else {
            alert('Please select a recipient and enter a message.');
        }
    });

    filterButton.addEventListener('click', () => {
        const selectedTeam = teamFilter.value;
        const selectedDepartment = departmentFilter.value;
        const selectedDate = dateFilter.value;
        const selectedBadge = badgeFilter.value;

        const filteredPosts = recognitionPosts.filter(post => {
            const postDate = new Date(post.timestamp).toISOString().split('T')[0];

            const teamMatch = !selectedTeam || employees.find(e => e.id === post.sender.id).team === selectedTeam || employees.find(e => e.id === post.receiver.id).team === selectedTeam;
            const departmentMatch = !selectedDepartment || employees.find(e => e.id === post.sender.id).department === selectedDepartment || employees.find(e => e.id === post.receiver.id).department === selectedDepartment;
            const dateMatch = !selectedDate || postDate === selectedDate;
            const badgeMatch = !selectedBadge || post.badge === selectedBadge;

            return teamMatch && departmentMatch && dateMatch && badgeMatch;
        });
        renderRecognitionFeed(filteredPosts);
    });

    renderRecognitionFeed();
    </script>
</body>
</html>
