<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peer-to-Peer Recognition</title>
     <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script> <style>
        body {
            display: flex;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f2f5;
        }

        .main-content {
            flex: 1;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .kudos-button {
            background-color: #fcd34d;
            color: #1e293b;
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 24px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: none;
            font-size: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .kudos-button:hover {
            background-color: #fbb034;
        }

        #give-kudos-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .modal-content {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            width: 400px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .modal-header {
            font-size: 20px;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .modal-form-group {
            display: flex;
            flex-direction: column;
        }

        .modal-form-group label {
            margin-bottom: 6px;
            color: #4b5563;
            font-weight: 500;
            font-size: 14px;
        }

        .modal-form-group input, .modal-form-group textarea, .modal-form-group select {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .modal-form-group input:focus, .modal-form-group textarea:focus, .modal-form-group select:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .modal-form-group textarea {
            resize: none;
            height: 80px;
        }

        .modal-form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 10px;
        }

        .modal-form-actions button {
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            border: none;
            font-size: 14px;
        }

        .modal-form-actions button:first-child {
            background-color: #fcd34d;
            color: #1e293b;
        }

        .modal-form-actions button:first-child:hover {
            background-color: #fbb034;
        }

        .modal-form-actions button:last-child {
            background-color: #d1d5db;
            color: #374151;
        }

        .modal-form-actions button:last-child:hover {
            background-color: #b0b8c4;
        }

        .recognition-filters {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
        }

        .recognition-filters .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 180px;
        }

        .recognition-filters .filter-group label {
            margin-bottom: 6px;
            color: #4b5563;
            font-weight: 500;
            font-size: 14px;
        }

        .recognition-filters .filter-group select {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .recognition-filters .filter-group select:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .recognition-feed {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
        }

        .recognition-post {
            background-color: #ffffff;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .post-header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .post-header .sender-name {
            font-weight: 600;
            color: #1e293b;
            margin-right: 4px;
        }

        .post-header .receiver-name {
            font-weight: 600;
            color: #fcd34d;
        }

        .post-content {
            margin-bottom: 12px;
            font-size: 14px;
            line-height: 1.5;
            color: #374151;
        }

        .post-badge {
            padding: 6px 10px;
            border-radius: 12px;
            background-color: #f0f0f0;
            color: #333;
            font-size: 12px;
            margin-bottom: 12px;
            display: inline-block;
        }

        .post-actions {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: 10px;
        }

        .post-actions button {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            background-color: transparent;
            color: #6b7280;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.3s;
            font-size: 14px;
        }

        .post-actions button:hover {
            color: #fcd34d;
        }

        .comments-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        .comment {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .comment:last-child {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .comment img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-content {
            flex: 1;
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .comment-header .commenter-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 14px;
        }

        .comment-header .comment-date {
            font-size: 12px;
            color: #6b7280;
        }

        .comment-text {
            font-size: 14px;
            line-height: 1.5;
            color: #374151;
        }

        .comment-input-container {
            display: flex;
            gap: 10px;
            margin-top: 16px;
        }

        .comment-input-container img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-input-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .comment-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            resize: none;
            min-height: 30px;
            transition: border-color 0.3s;
        }

        .comment-input:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .comment-submit {
            padding: 6px 12px;
            background-color: #fcd34d;
            color: #1e293b;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
            align-self: flex-end;
            margin-top: 8px;
            font-weight: 600;
        }

        .comment-submit:hover {
            background-color: #fbb034;
        }

        .leaderboard {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .leaderboard-header {
            font-size: 20px;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 16px;
        }

        .leaderboard-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .leaderboard-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .leaderboard-list li:last-child {
            border-bottom: none;
        }

        .leaderboard-list li span {
            font-weight: 500;
            color: #374151;
            font-size: 14px;
        }

        .top-employees {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 16px;
            margin-top: 16px;
        }

        .top-employee-card {
            background-color: #ffffff;
            padding: 16px;
            border-radius: 8px;
            width: calc(33.33% - 10px);
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .top-employee-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            margin-left: auto;
            margin-right: auto;
        }

        .top-employee-card .name {
            font-weight: 600;
            color: #1e293b;
            font-size: 14px;
            margin-bottom: 6px;
        }

        .top-employee-card .kudos-count {
            color: #fcd34d;
            font-size: 16px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .recognition-filters {
                flex-direction: column;
                gap: 16px;
            }

            .recognition-filters .filter-group {
                min-width: 100%;
            }
            .top-employee-card {
                width: calc(50% - 10px);
            }
        }
        @media (max-width: 480px){
            .top-employee-card{
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-top">
            <img src="admin-avatar.png" alt="admin" class="admin-image">
            <p style="font-size: 18px; font-weight: bold;">HUMAN RESOURCES 1</p>
        </div>
        <div class="sidebar-content">
            <ul class="sidebar-menu">
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="#" onclick="toggleSubMenu('Recruitment')">Recruitment</a>
                    <ul id="Recruitment">
                        <li><a href="Jobposting.html">Job Posting</a></li>
                        <li><a href="Sourcing.html">Sourcing Candidates</a></li>
                         <li><a href="Create.html">Create Job Posting</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('ApplicantManagement')">Applicant Management</a>
                    <ul id="ApplicantManagement">
                        <li><a href="Application.html">Application Tracking</a></li>
                        <li><a href="interviews.html">Interviews & Assessments</a></li>
                        <li><a href="selection.html">Selection Offer</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('NewHiredOnBoard')">New Hired On Board</a>
                    <ul id="NewHiredOnBoard">
                        <li><a href="Documentation.html">Documentation</a></li>
                        <li><a href="Orientation.html">Orientation & Training</a></li>
                        <li><a href="Assignment.html">Role Assignment</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('SocialRecognitionProgram')">Social Recognition Program</a>
                    <ul id="SocialRecognitionProgram">
                        <li><a href="Acknowledgement.html">Acknowledging Achievements</a></li>
                        <li><a href="Peer.html">Peer-to-peer recognition</a></li>
                        <li><a href="Employee.html">Employee engagement programs</a></li>
                    </ul>
                </li>
                 <li><a href="#" onclick="toggleSubMenu('Performancemanagement')">Performance management</a>
                    <ul id="Performancemanagement">
                        <li><a href="GoalSetting.html">Goal Setting</a></li>
                        <li><a href="PerformanceReview.html">Performance Review</a></li>
                        <li><a href="Feedback.html">Feedback</a></li>
                        <li><a href="Improvement.html">Performance Improvement</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Training')">Training</a>
                    <ul id="Training">
                        <li><a href="Needs.html">Training Needs</a></li>
                        <li><a href="Programs.html">Training programs</a></li>
                        <li><a href="Evaluation.html">Training Evaluation</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('EmployeeRelations')">Employee Relations</a>
                    <ul id="EmployeeRelations">
                        <li><a href="Communication.html">Communication</a></li>
                        <li><a href="ConflictResolution.html">Conflict Resolution</a></li>
                        <li><a href="Surveys.html">Employee Surveys</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Compensation')">Compensation and Benefits</a>
                    <ul id="Compensation">
                        <li><a href="Payroll.html">Payroll</a></li>
                        <li><a href="Benefits.html">Benefits</a></li>
                        <li><a href="Analysis.html">Compensation Analysis</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('HRAnalytics')">HR Analytics</a>
                    <ul id="HRAnalytics">
                         <li><a href="Metrics.html">HR Metrics</a></li>
                        <li><a href="Reporting.html">HR Reporting</a></li>
                        <li><a href="Workforce.html">Workforce Planning</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Organization')">Organization</a>
                    <ul id="Organization">
                        <li><a href="Structure.html">Organizational Structure</a></li>
                        <li><a href="Development.html">Organization Development</a></li>
                        <li><a href="Change.html">Change Management</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Health')">Health and Safety</a>
                    <ul id="Health">
                        <li><a href="Policy.html">Health and Safety Policy</a></li>
                        <li><a href="Risk.html">Risk Management</a></li>
                        <li><a href="Wellness.html">Wellness Programs</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Legal')">Legal Compliance</a>
                    <ul id="Legal">
                        <li><a href="Labor.html">Labor Laws</a></li>
                        <li><a href="Policies.html">HR Policies</a></li>
                        <li><a href="Audits.html">HR Audits</a></li>
                    </ul>
                </li>
                <li><a href="#" onclick="toggleSubMenu('Exit')">Exit Management</a>
                    <ul id="Exit">
                        <li><a href="Offboarding.html">Offboarding</a></li>
                        <li><a href="Interviews.html">Exit Interviews</a></li>
                        <li><a href="Alumni.html">Employee Alumni</a></li>
                    </ul>
                </li>
                <li><a href="settings.html">Settings</a></li>
            </ul>
            <a href="#" class="logout-link">Logout</a>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <button id="give-kudos-button" class="kudos-button">
                 <i class="fas fa-hand-sparkles"></i> Give Kudos
            </button>

            <div id="give-kudos-modal">
                <div class="modal-content">
                    <div class="modal-header">Give Kudos</div>
                    <form id="kudos-form">
                        <div class="modal-form-group">
                            <label for="recipient">To:</label>
                            <select id="recipient" name="recipient" required>
                                <option value="" disabled selected>Select Recipient</option>
                            </select>
                        </div>
                        <div class="modal-form-group">
                            <label for="badge">Badge:</label>
                            <select id="badge" name="badge" required>
                                <option value="" disabled selected>Select Badge</option>
                            </select>
                        </div>
                        <div class="modal-form-group">
                            <label for="message">Message:</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <div class="modal-form-actions">
                            <button type="submit">Give Kudos</button>
                            <button type="button" id="cancel-button">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="recognition-filters">
                <div class="filter-group">
                    <label for="filter-recipient">Recipient:</label>
                    <select id="filter-recipient">
                        <option value="">All</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-badge">Badge:</label>
                    <select id="filter-badge">
                        <option value="">All</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-date">Date:</label>
                    <select id="filter-date">
                        <option value="">All</option>
                    </select>
                </div>
            </div>

            <div class="recognition-feed" id="recognition-feed">
                </div>

            <div class="leaderboard">
                <div class="leaderboard-header">Kudos Leaderboard</div>
                <ul class="leaderboard-list" id="leaderboard-list">
                    </ul>
                <div class="top-employees">
                    </div>
            </div>
        </div>
    </div>

    <script>
        const employees = [
            { id: '1', name: 'John Doe', kudos: 25, image: 'https://randomuser.me/api/portraits/men/1.jpg' },
            { id: '2', name: 'Jane Smith', kudos: 32, image: 'https://randomuser.me/api/portraits/women/1.jpg' },
            { id: '3', name: 'Bob Johnson', kudos: 18, image: 'https://randomuser.me/api/portraits/men/2.jpg' },
            { id: '4', name: 'Alice Brown', kudos: 40, image: 'https://randomuser.me/api/portraits/women/2.jpg' },
            { id: '5', name: 'Mike Davis', kudos: 22, image: 'https://randomuser.me/api/portraits/men/3.jpg' },
            { id: '6', name: 'Sarah Wilson', kudos: 29, image: 'https://randomuser.me/api/portraits/women/3.jpg' },
            { id: '7', name: 'David Garcia', kudos: 15, image: 'https://randomuser.me/api/portraits/men/4.jpg' },
            { id: '8', name: 'Jennifer Rodriguez', kudos: 35, image: 'https://randomuser.me/api/portraits/women/4.jpg' },
            { id: '9', name: 'James Williams', kudos: 27, image: 'https://randomuser.me/api/portraits/men/5.jpg' },
            { id: '10', name: 'Linda Jones', kudos: 20, image: 'https://randomuser.me/api/portraits/women/5.jpg' },
            { id: '11', name: 'Michael Brown', kudos: 45, image: 'https://randomuser.me/api/portraits/men/6.jpg' },
            { id: '12', name: 'Jessica Davis', kudos: 38, image: 'https://randomuser.me/api/portraits/women/6.jpg' },
            { id: '13', name: 'Christopher Garcia', kudos: 19, image: 'https://randomuser.me/api/portraits/men/7.jpg' },
            { id: '14', name: 'Angela Rodriguez', kudos: 31, image: 'https://randomuser.me/api/portraits/women/7.jpg' },
            { id: '15', name: 'Brian Williams', kudos: 24, image: 'https://randomuser.me/api/portraits/men/8.jpg' },
            { id: '16', name: 'Nicole Jones', kudos: 26, image: 'https://randomuser.me/api/portraits/women/8.jpg' },
            { id: '17', name: 'Kevin Smith', kudos: 33, image: 'https://randomuser.me/api/portraits/men/9.jpg' },
            { id: '18', name: 'Kimberly Brown', kudos: 28, image: 'https://randomuser.me/api/portraits/women/9.jpg' },
            { id: '19', name: 'Jason Miller', kudos: 21, image: 'https://randomuser.me/api/portraits/men/10.jpg' },
            { id: '20', name: 'Stephanie Davis', kudos: 36, image: 'https://randomuser.me/api/portraits/women/10.jpg' }
        ];

        const badges = [
            { id: '1', name: 'Team Player', description: 'For outstanding collaboration and support.' },
            { id: '2', name: 'Innovation', description: 'For creative solutions and new ideas.' },
            { id: '3', name: 'Excellence', description: 'For consistently high-quality work.' },
            { id: '4', name: 'Leadership', description: 'For guiding and inspiring others.' },
            { id: '5', name: 'Customer Focus', description: 'For dedication to customer satisfaction.' }
        ];

        let kudosPosts = [];

        const giveKudosButton = document.getElementById('give-kudos-button');
        const giveKudosModal = document.getElementById('give-kudos-modal');
        const cancelKudosButton = document.getElementById('cancel-button');
        const kudosForm = document.getElementById('kudos-form');
        const recipientSelect = document.getElementById('recipient');
        const badgeSelect = document.getElementById('badge');
        const recognitionFeed = document.getElementById('recognition-feed');
        const filterRecipientSelect = document.getElementById('filter-recipient');
        const filterBadgeSelect = document.getElementById('filter-badge');
        const filterDateSelect = document.getElementById('filter-date');
        const leaderboardList = document.getElementById('leaderboard-list');

        const employeeImages = [
            'https://randomuser.me/api/portraits/men/1.jpg',
            'https://randomuser.me/api/portraits/women/1.jpg',
            'https://randomuser.me/api/portraits/men/2.jpg',
            'https://randomuser.me/api/portraits/women/2.jpg',
            'https://randomuser.me/api/portraits/men/3.jpg',
            'https://randomuser.me/api/portraits/women/3.jpg',
            'https://randomuser.me/api/portraits/men/4.jpg',
            'https://randomuser.me/api/portraits/women/4.jpg',
            'https://randomuser.me/api/portraits/men/5.jpg',
            'https://randomuser.me/api/portraits/women/5.jpg',
            'https://randomuser.me/api/portraits/men/6.jpg',
            'https://randomuser.me/api/portraits/women/6.jpg',
            'https://randomuser.me/api/portraits/men/7.jpg',
            'https://randomuser.me/api/portraits/women/7.jpg',
            'https://randomuser.me/api/portraits/men/8.jpg',
            'https://randomuser.me/api/portraits/women/8.jpg',
             'https://randomuser.me/api/portraits/men/9.jpg',
            'https://randomuser.me/api/portraits/women/9.jpg',
             'https://randomuser.me/api/portraits/men/10.jpg',
            'https://randomuser.me/api/portraits/women/10.jpg'
        ];

        function toggleSubMenu(menuId) {
            const subMenu = document.getElementById(menuId);
            subMenu.style.display = subMenu.style.display === 'none' ? 'block' : 'none';
        }

        giveKudosButton.addEventListener('click', () => {
            giveKudosModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        });

        cancelKudosButton.addEventListener('click', () => {
            giveKudosModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        window.addEventListener('click', (event) => {
            if (event.target === giveKudosModal) {
                giveKudosModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        function populateDropdowns() {
            employees.forEach(employee => {
                const option = document.createElement('option');
                option.value = employee.id;
                option.textContent = employee.name;
                recipientSelect.appendChild(option);

                const filterOption = document.createElement('option');
                filterOption.value = employee.id;
                filterOption.textContent = employee.name;
                filterRecipientSelect.appendChild(filterOption);
            });

            badges.forEach(badge => {
                const option = document.createElement('option');
                option.value = badge.id;
                option.textContent = badge.name;
                badgeSelect.appendChild(option);

                const filterOption = document.createElement('option');
                filterOption.value = badge.id;
                filterOption.textContent = badge.name;
                filterBadgeSelect.appendChild(filterOption);
            });

            const dates = [...new Set(kudosPosts.map(post => post.date))];
            dates.forEach(date => {
                const option = document.createElement('option');
                option.value = date;
                option.textContent = date;
                filterDateSelect.appendChild(option);
            });
        }

        function generateKudosPost(sender, recipientId, badgeId, message) {
            const recipient = employees.find(emp => emp.id === recipientId);
            const badge = badges.find(b => b.id === badgeId);
            const date = new Date().toLocaleDateString();
            const senderImg = employeeImages[Math.floor(Math.random() * employeeImages.length)]

            return {
                sender,
                senderImg,
                recipient: recipient ? recipient.name : 'Unknown Recipient',
                badge: badge ? badge.name : 'Unknown Badge',
                message,
                date
            };
        }

        function renderKudosPost(post) {
            const postElement = document.createElement('div');
            postElement.classList.add('recognition-post');

            postElement.innerHTML = `
                <div class="post-header">
                    <img src="${post.senderImg}" alt="${post.sender}" class="sender-avatar">
                    <span class="sender-name">${post.sender}</span>
                    <span style="color:#000">gave kudos to</span>
                    <span class="receiver-name">${post.recipient}</span>
                </div>
                <div class="post-content">${post.message}</div>
                <div class="post-badge">${post.badge}</div>
                <div class="post-actions">
                    <button><i class="far fa-thumbs-up"></i> Like</button>
                    <button><i class="far fa-comment"></i> Comment</button>
                </div>
                <div class="comments-section">
                    <div class="comments-header">Comments</div>
                     <div id="comments-container-${post.date}">
                     </div>
                    <div class="comment-input-container">
                        <img src="user-avatar.png" alt="You" class="commenter-avatar">
                        <div class="comment-input-wrapper">
                            <textarea class="comment-input" placeholder="Add a comment..."></textarea>
                            <button class="comment-submit" onclick="addComment(this, '${post.date}')">Post</button>
                        </div>
                    </div>
                </div>
            `;
            recognitionFeed.appendChild(postElement);
        }

        function addComment(buttonElement, postDate) {
            const commentInput = buttonElement.previousElementSibling;
            const commentText = commentInput.value.trim();

            if (commentText !== "") {
                const commentsContainer = document.getElementById(`comments-container-${postDate}`);
                const newComment = document.createElement('div');
                newComment.classList.add('comment');
                newComment.innerHTML = `
                    <img src="user-avatar.png" alt="You" class="commenter-avatar">
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="commenter-name">You</span>
                            <span class="comment-date">${new Date().toLocaleDateString()}</span>
                        </div>
                        <p class="comment-text">${commentText}</p>
                    </div>
                `;
                commentsContainer.appendChild(newComment);
                commentInput.value = '';
            }
        }

        kudosForm.addEventListener('submit', (event) => {
            event.preventDefault();

            const sender = 'You';
            const recipientId = recipientSelect.value;
            const badgeId = badgeSelect.value;
            const message = document.getElementById('message').value;

            const newPost = generateKudosPost(sender, recipientId, badgeId, message);
            kudosPosts.push(newPost);
             employees.forEach(employee => {
                if(employee.id === recipientId){
                    employee.kudos += 1;
                }
            })

            renderKudosPost(newPost);
            populateDropdowns();
            updateLeaderboard();
            kudosForm.reset();
            giveKudosModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        function updateLeaderboard() {
            const sortedEmployees = [...employees].sort((a, b) => b.kudos - a.kudos);
            leaderboardList.innerHTML = '';

            sortedEmployees.forEach((employee, index) => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    <span>${employee.name}</span>
                    <span>${employee.kudos} Kudos</span>
                `;
                leaderboardList.appendChild(listItem);
            });
            renderTopEmployees(sortedEmployees)
        }

        function renderTopEmployees(topEmployees) {
            const topEmployeesContainer = document.querySelector('.top-employees');
            topEmployeesContainer.innerHTML = '';

            const maxDisplay = Math.min(3, topEmployees.length);
            for (let i = 0; i < maxDisplay; i++) {
                const employee = topEmployees[i];
                const card = document.createElement('div');
                card.classList.add('top-employee-card');
                card.innerHTML = `
                    <img src="${employee.image}" alt="${employee.name}">
                    <div class="name">${employee.name}</div>
                    <div class="kudos-count">${employee.kudos} Kudos</div>
                `;
                topEmployeesContainer.appendChild(card);
            }
        }

        function initializePage() {
            populateDropdowns();
            updateLeaderboard();
            employees.forEach(employee => {
                const option = document.createElement('option');
                option.value = employee.id;
                option.textContent = employee.name;
                recipientSelect.appendChild(option);
            });

            badges.forEach(badge => {
                const option = document.createElement('option');
                option.value = badge.id;
                option.textContent = badge.name;
                badgeSelect.appendChild(option);
            });
        }

        initializePage();
    </script>
</body>
</html>
