<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peer-to-Peer Recognition</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>
    <style>
        body {
            display: flex;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f2f5;
        }

        .sidebar {
            width: 250px;
            background-color: #ffffff;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .sidebar-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        .admin-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            margin-bottom: 10px;
        }

        .sidebar-menu li a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        .sidebar-menu li a:hover {
            background-color: #e0e0e0;
        }

        .logout-link {
            text-decoration: none;
            color: #e74c3c;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            transition: background-color 0.3s;
            text-align: center;
            display: block;
            background-color: #f8f8f8;
        }

        .logout-link:hover {
            background-color: #f0f0f0;
        }

        .main-content {
            flex: 1;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .kudos-button {
            background-color: #fcd34d;
            color: #1e293b;
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 24px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: none;
            font-size: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .kudos-button:hover {
            background-color: #fbb034;
        }

        #give-kudos-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .modal-content {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            width: 400px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .modal-header {
            font-size: 20px;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .modal-form-group {
            display: flex;
            flex-direction: column;
        }

        .modal-form-group label {
            margin-bottom: 6px;
            color: #4b5563;
            font-weight: 500;
            font-size: 14px;
        }

        .modal-form-group input, .modal-form-group textarea, .modal-form-group select {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .modal-form-group input:focus, .modal-form-group textarea:focus, .modal-form-group select:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .modal-form-group textarea {
            resize: none;
            height: 80px;
        }

        .modal-form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 10px;
        }

        .modal-form-actions button {
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            border: none;
            font-size: 14px;
        }

        .modal-form-actions button:first-child {
            background-color: #fcd34d;
            color: #1e293b;
        }

        .modal-form-actions button:first-child:hover {
            background-color: #fbb034;
        }

        .modal-form-actions button:last-child {
            background-color: #d1d5db;
            color: #374151;
        }

        .modal-form-actions button:last-child:hover {
            background-color: #b0b8c4;
        }

        .recognition-filters {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
        }

        .recognition-filters .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 180px;
        }

        .recognition-filters .filter-group label {
            margin-bottom: 6px;
            color: #4b5563;
            font-weight: 500;
            font-size: 14px;
        }

        .recognition-filters .filter-group select {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .recognition-filters .filter-group select:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .recognition-feed {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
        }

        .recognition-post {
            background-color: #ffffff;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .post-header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .post-header .sender-name {
            font-weight: 600;
            color: #1e293b;
            margin-right: 4px;
        }

        .post-header .receiver-name {
            font-weight: 600;
            color: #fcd34d;
        }

        .post-content {
            margin-bottom: 12px;
            font-size: 14px;
            line-height: 1.5;
            color: #374151;
        }

        .post-badge {
            padding: 6px 10px;
            border-radius: 12px;
            background-color: #f0f0f0;
            color: #333;
            font-size: 12px;
            margin-bottom: 12px;
            display: inline-block;
        }

        .post-actions {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: 10px;
        }

        .post-actions button {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            background-color: transparent;
            color: #6b7280;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.3s;
            font-size: 14px;
        }

        .post-actions button:hover {
            color: #fcd34d;
        }

        .comments-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        .comment {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .comment:last-child {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .comment img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-content {
            flex: 1;
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .comment-header .commenter-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 14px;
        }

        .comment-header .comment-date {
            font-size: 12px;
            color: #6b7280;
        }

        .comment-text {
            font-size: 14px;
            line-height: 1.5;
            color: #374151;
        }

        .comment-input-container {
            display: flex;
            gap: 10px;
            margin-top: 16px;
        }

        .comment-input-container img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-input-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .comment-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            resize: none;
            min-height: 30px;
            transition: border-color 0.3s;
        }

        .comment-input:focus {
            outline: none;
            border-color: #fcd34d;
            box-shadow: 0 0 0 2px rgba(252, 211, 77, 0.2);
        }

        .comment-submit {
            padding: 6px 12px;
            background-color: #fcd34d;
            color: #1e293b;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
            align-self: flex-end;
            margin-top: 8px;
            font-weight: 600;
        }

        .comment-submit:hover {
            background-color: #fbb034;
        }

        .leaderboard {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .leaderboard-header {
            font-size: 20px;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 16px;
        }

        .leaderboard-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .leaderboard-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .leaderboard-list li:last-child {
            border-bottom: none;
        }

        .leaderboard-list li span {
            font-weight: 500;
            color: #374151;
            font-size: 14px;
        }

        .top-employees {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 16px;
            margin-top: 16px;
        }

        .top-employee-card {
            background-color: #ffffff;
            padding: 16px;
            border-radius: 8px;
            width: calc(33.33% - 10px);
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .top-employee-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            margin-left: auto;
            margin-right: auto;
        }

        .top-employee-card .name {
            font-weight: 600;
            color: #1e293b;
            font-size: 14px;
            margin-bottom: 6px;
        }

        .top-employee-card .kudos-count {
            color: #fcd34d;
            font-size: 16px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .recognition-filters {
                flex-direction: column;
                gap: 16px;
            }

            .recognition-filters .filter-group {
                min-width: 100%;
            }
            .top-employee-card {
                width: calc(50% - 10px);
            }
        }
        @media (max-width: 480px){
            .top-employee-card{
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-top">
            <img src="admin-avatar.png" alt="admin" class="admin-image">
            <p style="font-size: 18px; font-weight: bold;">HUMAN RESOURCES 1</p>
        </div>
        <div class="sidebar-content">
            <ul class="sidebar-menu">
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="#" onclick="toggleSubMenu('Recruitment')">Recruitment</a></li>
                <ul id="Recruitment" style="display:none;">
                    <li><a href="Jobposting.html">Job Posting</a></li>
                    <li><a href="Sourcing.html">Sourcing Candidates</a></li>
                    <li><a href="Create.html">Create Job Posting</a></li>
                </ul>
                <li><a href="#" onclick="toggleSubMenu('ApplicantManagement')">Applicant Management</a></li>
                <ul id="ApplicantManagement" style="display:none;">
                    <li><a href="Application.html">Application Tracking</a></li>
                    <li><a href="interviews.html">Interviews & Assessments</a></li>
                    <li><a href="selection.html">Selection Offer</a></li>
                </ul>
                <li><a href="#" onclick="toggleSubMenu('NewHiredOnBoard')">New Hired On Board</a></li>
                <ul id="NewHiredOnBoard" style="display:none;">
                    <li><a href="Documentation.html">Documentation</a></li>
                    <li><a href="Orientation.html">Orientation & Training</a></li>
                    <li><a href="Assignment.html">Role Assignment</a></li>
                </ul>
                <li><a href="#" onclick="toggleSubMenu('SocialRecognitionProgram')">Social Recognition Program</a></li>
                <ul id="SocialRecognitionProgram" style="display:none;">
                    <li><a href="Acknowledgement.html">Acknowledging Achievements</a></li>
                    <li><a href="Peer.html">Peer-to-peer recognition</a></li>
                    <li><a href="Employee.html">Employee engagement programs</a></li>
                </ul>
                <li><a href="#" onclick="toggleSubMenu('Performancemanagement')">Performance management</a></li>
                <ul id="Performancemanagement" style="display:none;">
                    <li><a href="Goal.html">Goal setting</a></li>
                    <li><a href="Feedback.html">Feedback cycles</a></li>
                    <li><a href="Review.html">Performance reviews</a></li>
                </ul>
                <li><a href="users.html">Users</a></li>
                <li><a href="settings.html">Settings</a></li>
            </ul>
        </div>
        <a href="login1.html" class="logout-link" onclick="return confirmLogout();">Log out</a>
    </div>

    <div class="main-content">
        <div class="container">
            <h1 style="color: Navy; text-align: center; margin-bottom: 20px;">Peer-to-Peer Recognition</h1>
            <button id="give-kudos-button" class="kudos-button">
                <i class="fas fa-hand-sparkles"></i> Give Kudos
            </button>

            <div id="give-kudos-modal">
                <div class="modal-content">
                    <div class="modal-header">Give Kudos</div>
                    <div class="modal-form-group">
                        <label for="recipient">To:</label>
                        <select id="recipient" required>
                            <option value="">Select Recipient</option>
                        </select>
                    </div>
                    <div class="modal-form-group">
                        <label for="message">Message:</label>
                        <textarea id="message" placeholder="Write your recognition message..." required></textarea>
                    </div>
                    <div class="modal-form-group">
                        <label for="badge">Badge:</label>
                        <select id="badge">
                            <option value="kudos">Kudos</option>
                            <option value="appreciation">Appreciation</option>
                            <option value="thanks">Thanks</option>
                            <option value="celebration">Celebration</option>
                        </select>
                    </div>
                    <div class="modal-form-group">
                        <label for="visibility">Visibility:</label>
                        <select id="visibility">
                            <option value="public">Public</option>
                            <option value="private">Private</option>
                        </select>
                    </div>
                    <div class="modal-form-actions">
                        <button id="submit-kudos-button">Give Kudos</button>
                        <button id="cancel-kudos-button">Cancel</button>
                    </div>
                </div>
            </div>

            <div class="recognition-filters">
                <div class="filter-group">
                    <label for="department-filter">Department:</label>
                    <select id="department-filter">
                        <option value="">All Departments</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="team-filter">Team:</label>
                    <select id="team-filter">
                        <option value="">All Teams</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="date-filter">Date:</label>
                    <input type="date" id="date-filter">
                </div>
                <div class="filter-group">
                    <label for="badge-filter">Badge:</label>
                    <select id="badge-filter">
                        <option value="">All Badges</option>
                        <option value="kudos">Kudos</option>
                        <option value="appreciation">Appreciation</option>
                        <option value="thanks">Thanks</option>
                        <option value="celebration">Celebration</option>
                    </select>
                </div>
                <button id="filter-button" class="kudos-button" style="margin-top: 0;">
                    <i class="fas fa-filter"></i> Filter
                </button>
            </div>

            <div class="recognition-feed" id="recognition-feed">
            </div>

            <div class="leaderboard">
                <h2 class="leaderboard-header">Top Recognized Employees (All Time)</h2>
                <ul class="leaderboard-list" id="leaderboard-list">
                </ul>
            </div>
            <div class="top-employees">
                <h2>Top Employees</h2>
            </div>
        </div>
    </div>

 <script>
        const employees = [
            { id: 1, name: 'John Doe', department: 'Sales', team: 'Team A', avatar: 'https://randomuser.me/api/portraits/men/1.jpg' },
            { id: 2, name: 'Jane Smith', department: 'Marketing', team: 'Team B', avatar: 'https://randomuser.me/api/portraits/women/2.jpg' },
            { id: 3, name: 'Michael Brown', department: 'Engineering', team: 'Team C', avatar: 'https://randomuser.me/api/portraits/men/3.jpg' },
            { id: 4, name: 'Sarah Williams', department: 'HR', team: 'Team A', avatar: 'https://randomuser.me/api/portraits/women/4.jpg' },
            { id: 5, name: 'David Johnson', department: 'Sales', team: 'Team B', avatar: 'https://randomuser.me/api/portraits/men/5.jpg' },
            { id: 6, name: 'Linda Miller', department: 'Marketing', team: 'Team C', avatar: 'https://randomuser.me/api/portraits/women/6.jpg' },
            { id: 7, name: 'Christopher Davis', department: 'Engineering', team: 'Team A', avatar: 'https://randomuser.me/api/portraits/men/7.jpg' },
            { id: 8, name: 'Angela Wilson', department: 'HR', team: 'Team B', avatar: 'https://randomuser.me/api/portraits/women/8.jpg' },
            { id: 9, name: 'Brian Martinez', department: 'Sales', team: 'Team C', avatar: 'https://randomuser.me/api/portraits/men/9.jpg' },
            { id: 10, name: 'Nicole Robinson', department: 'Marketing', team: 'Team A', avatar: 'https://randomuser.me/api/portraits/women/10.jpg' },
        ];

        const departments = [...new Set(employees.map(emp => emp.department))];
        const teams = [...new Set(employees.map(emp => emp.team))];
        const recognitionPosts = [];

        const giveKudosButton = document.getElementById('give-kudos-button');
        const giveKudosModal = document.getElementById('give-kudos-modal');
        const cancelKudosButton = document.getElementById('cancel-kudos-button');
        const submitKudosButton = document.getElementById('submit-kudos-button');
        const recipientSelect = document.getElementById('recipient');
        const messageInput = document.getElementById('message');
        const badgeSelect = document.getElementById('badge');
        const visibilitySelect = document.getElementById('visibility');
        const recognitionFeed = document.getElementById('recognition-feed');
        const departmentFilter = document.getElementById('department-filter');
        const teamFilter = document.getElementById('team-filter');
        const dateFilter = document.getElementById('date-filter');
        const badgeFilterSelect = document.getElementById('badge-filter');
        const filterButton = document.getElementById('filter-button');
        const leaderboardList = document.getElementById('leaderboard-list');

        let currentUser = {
            id: 1,
            name: 'John Doe',
            avatar: 'https://randomuser.me/api/portraits/men/1.jpg'
        };

        function populateDropdowns() {
            employees.forEach(employee => {
                const option = document.createElement('option');
                option.value = employee.id;
                option.textContent = employee.name;
                recipientSelect.appendChild(option);
            });

            departments.forEach(dept => {
                const option = document.createElement('option');
                option.value = dept;
                option.textContent = dept;
                departmentFilter.appendChild(option);
            });

            teams.forEach(team => {
                const option = document.createElement('option');
                option.value = team;
                option.textContent = team;
                teamFilter.appendChild(option);
            });
            badgeFilterSelect.value = "";
        }

        function displayRecognitionPosts(posts = recognitionPosts) {
            recognitionFeed.innerHTML = '';
            posts.forEach(post => {
                const postElement = createPostElement(post);
                recognitionFeed.appendChild(postElement);
            });
            displayLeaderboard();
        }

        function createPostElement(post) {
            const postDiv = document.createElement('div');
            postDiv.classList.add('recognition-post');

            const headerDiv = document.createElement('div');
            headerDiv.classList.add('post-header');

            const senderImg = document.createElement('img');
            senderImg.src = post.sender.avatar;
            senderImg.alt = post.sender.name;

            const senderNameSpan = document.createElement('span');
            senderNameSpan.classList.add('sender-name');
            senderNameSpan.textContent = post.sender.name;

            const receiverNameSpan = document.createElement('span');
            receiverNameSpan.classList.add('receiver-name');
            receiverNameSpan.textContent = `to ${post.receiver.name}`;

            headerDiv.appendChild(senderImg);
            headerDiv.appendChild(senderNameSpan);
            headerDiv.appendChild(receiverNameSpan);

            const contentP = document.createElement('p');
            contentP.classList.add('post-content');
            contentP.textContent = post.message;

            const badgeSpan = document.createElement('span');
            badgeSpan.classList.add('post-badge');
            badgeSpan.textContent = post.badge;

            const actionsDiv = document.createElement('div');
            actionsDiv.classList.add('post-actions');

            const likeButton = document.createElement('button');
            likeButton.innerHTML = `<i class="far fa-thumbs-up"></i> Like (${post.likes})`;
            likeButton.addEventListener('click', () => {
                post.likes++;
                displayRecognitionPosts();
            });

            const commentButton = document.createElement('button');
            commentButton.innerHTML = `<i class="far fa-comment"></i> Comment (${post.comments.length})`;
            commentButton.addEventListener('click', () => {
                const commentInputContainer = document.createElement('div');
                commentInputContainer.classList.add('comment-input-container');

                const currentUserImg = document.createElement('img');
                currentUserImg.src = currentUser.avatar;
                currentUserImg.alt = currentUser.name;

                const commentInputWrapper = document.createElement('div');
                commentInputWrapper.classList.add('comment-input-wrapper');
                const commentInput = document.createElement('textarea');
                commentInput.classList.add('comment-input');
                commentInput.placeholder = "Write a comment...";

                const commentSubmit = document.createElement('button');
                commentSubmit.classList.add('comment-submit');
                commentSubmit.textContent = "Post";
                commentSubmit.addEventListener('click', () => {
                    if (commentInput.value.trim() !== "") {
                        const newComment = {
                            user: currentUser,
                            text: commentInput.value,
                            date: new Date()
                        }
                        post.comments.push(newComment);
                        displayRecognitionPosts();
                    }
                });
                commentInputWrapper.appendChild(commentInput);
                commentInputWrapper.appendChild(commentSubmit);
                commentInputContainer.appendChild(currentUserImg);
                commentInputContainer.appendChild(commentInputWrapper);
                postDiv.appendChild(commentInputContainer);
            });

            const commentsDiv = document.createElement('div');
            commentsDiv.classList.add('comments-section');

            post.comments.forEach(comment => {
                const commentDiv = document.createElement('div');
                commentDiv.classList.add('comment');

                const commentImg = document.createElement('img');
                commentImg.src = comment.user.avatar;
                commentImg.alt = comment.user.name;

                const commentContentDiv = document.createElement('div');
                commentContentDiv.classList.add('comment-content');

                const commentHeaderDiv = document.createElement('div');
                commentHeaderDiv.classList.add('comment-header');

                const commenterNameSpan = document.createElement('span');
                commenterNameSpan.classList.add('commenter-name');
                commenterNameSpan.textContent = comment.user.name;

                const commentDateSpan = document.createElement('span');
                commentDateSpan.classList.add('comment-date');
                commentDateSpan.textContent = comment.date.toLocaleDateString();

                commentHeaderDiv.appendChild(commenterNameSpan);
                commentHeaderDiv.appendChild(commentDateSpan);

                const commentTextP = document.createElement('p');
                commentTextP.classList.add('comment-text');
                commentTextP.textContent = comment.text;

                commentContentDiv.appendChild(commentHeaderDiv);
                commentContentDiv.appendChild(commentTextP);

                commentDiv.appendChild(commentImg);
                commentDiv.appendChild(commentContentDiv);
                commentsDiv.appendChild(commentDiv);
            });

            actionsDiv.appendChild(likeButton);
            actionsDiv.appendChild(commentButton);

            postDiv.appendChild(headerDiv);
            postDiv.appendChild(contentP);
            postDiv.appendChild(badgeSpan);
            postDiv.appendChild(actionsDiv);
            postDiv.appendChild(commentsDiv);

            return postDiv;
        }

        function giveKudos() {
            const recipientId = parseInt(recipientSelect.value);
            const message = messageInput.value;
            const badge = badgeSelect.value;
            const visibility = visibilitySelect.value;

            if (!recipientId || !message) {
                alert('Please fill in all required fields.');
                return;
            }

            const receiver = employees.find(emp => emp.id === recipientId);

            if (!receiver) {
                alert('Recipient not found.');
                return;
            }

            const newPost = {
                sender: currentUser,
                receiver: receiver,
                message: message,
                badge: badge,
                visibility: visibility,
                likes: 0,
                comments: [],
                date: new Date()
            };

            recognitionPosts.push(newPost);
            displayRecognitionPosts();
            giveKudosModal.style.display = 'none';
            clearModalForm();
        }

        function clearModalForm() {
            recipientSelect.value = '';
            messageInput.value = '';
            badgeSelect.value = 'kudos';
            visibilitySelect.value = 'public';
        }

        function filterPosts() {
            const department = departmentFilter.value;
            const team = teamFilter.value;
            const date = dateFilter.value;
            const badge = badgeFilterSelect.value;

            const filteredPosts = recognitionPosts.filter(post => {
                const postDate = new Date(post.date).toISOString().split('T')[0];
                return (
                    (!department || post.receiver.department === department) &&
                    (!team || post.receiver.team === team) &&
                    (!date || postDate === date) &&
                    (!badge || post.badge === badge)
                );
            });
            displayRecognitionPosts(filteredPosts);
        }

        function displayLeaderboard() {
            const employeeKudosCount = {};
            recognitionPosts.forEach(post => {
                const receiverId = post.receiver.id;
                employeeKudosCount[receiverId] = (employeeKudosCount[receiverId] || 0) + 1;
            });

            const sortedEmployees = Object.entries(employeeKudosCount)
                .sort(([, countA], [, countB]) => countB - countA)
                .slice(0, 5);

            leaderboardList.innerHTML = '';
            sortedEmployees.forEach(([employeeId, count]) => {
                const employee = employees.find(emp => emp.id === parseInt(employeeId));
                if(employee){
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<span>${employee.name}</span> <span>${count} Kudos</span>`;
                    leaderboardList.appendChild(listItem);
                }

            });
            displayTopEmployees(sortedEmployees);
        }
        function displayTopEmployees(topEmployees){
            const topEmployeesContainer = document.querySelector('.top-employees');
            topEmployeesContainer.innerHTML = '<h2>Top Employees</h2>';
            topEmployees.forEach(([employeeId, kudosCount]) => {
                const employee = employees.find(emp => emp.id === parseInt(employeeId));
                if (employee) {
                    const employeeCard = document.createElement('div');
                    employeeCard.classList.add('top-employee-card');

                    const employeeImg = document.createElement('img');
                    employeeImg.src = employee.avatar;
                    employeeImg.alt = employee.name;

                    const employeeName = document.createElement('div');
                    employeeName.classList.add('name');
                    employeeName.textContent = employee.name;

                    const kudosCountDiv = document.createElement('div');
                    kudosCountDiv.classList.add('kudos-count');
                    kudosCountDiv.textContent = `${kudosCount} Kudos`;

                    employeeCard.appendChild(employeeImg);
                    employeeCard.appendChild(employeeName);
                    employeeCard.appendChild(kudosCountDiv);

                    topEmployeesContainer.appendChild(employeeCard);
                }
            });
        }

        giveKudosButton.addEventListener('click', () => {
            giveKudosModal.style.display = 'flex';
        });

        cancelKudosButton.addEventListener('click', () => {
            giveKudosModal.style.display = 'none';
            clearModalForm();
        });

        submitKudosButton.addEventListener('click', giveKudos);
        filterButton.addEventListener('click', filterPosts);

        document.addEventListener('DOMContentLoaded', () => {
            populateDropdowns();
            displayRecognitionPosts();
        });

        function toggleSubMenu(menuId) {
            var subMenu = document.getElementById(menuId);
            if (subMenu.style.display === "none") {
                subMenu.style.display = "block";
            } else {
                subMenu.style.display = "none";
            }
        }

        function confirmLogout() {
            return confirm("Are you sure you want to log out?");
        }
    </script>
</body>
</html>
